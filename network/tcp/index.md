# TCP

## TCP 的首部

一个 TCP 报文由 TCP 首部和数据组成，报文前 20 个字节是固定的，后面 4n 个字节是根据需要增加的，因此 TCP 首部的最小长度是 20 字节

**组成部分**

1. 源端口：2 byte
2. 目标端口：2 byte
3. 序号：4 byte，因为 TCp 是面向字节流，在 TCP 连接中传送的字节流中的每一个字节都是按顺序编号
4. 确认号：4 byte，是期望收到下一个报文段的第一个数据字节的序号
5. 数据偏移：4 bit，它指 TCP 报文段的数据起始处距离 TCP 报文段的起始处有多远
6. 保留：6 bit
7. 6 个状态码： 6 bit, UPG, ACK, PSH, RST, SYN, FIN
8. 窗口：2 byte，指的是接受窗口的大小
9. 验证和：2 byte
10. 紧急指针：2 byte, 只有 UPG = 1 时才有意义
11. 选项和填充：4 byte, 选项大小可变

## UDP 的首部

UDP 的首部由 8 byte 组成

1. 源端口：2 byte
2. 目标端口：2 byte
3. 长度：2 byte
4. 验证和：2 byte
